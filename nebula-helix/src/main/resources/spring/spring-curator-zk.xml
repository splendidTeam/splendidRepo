<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:loxia="http://loxia.benjamin.cn/schema/core"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- curator zookeeper -->
	<bean id="zkOperator" class="com.baozun.nebula.curator.ZkOperator">
		<property name="connectionString" value="#{meta['zk.connectionString']}" />
		<property name="namespace" value="#{meta['zk.namespace']}" />
		<property name="sessionTimeoutMs" value="#{meta['zk.sessionTimeoutMs']}" />
		<property name="connectionTimeoutMs" value="#{meta['zk.connectionTimeoutMs']}" />
		<property name="bgThreadPoolSize" value="#{meta['zk.bgThreadPoolSize']}" />
		<property name="retryType" value="#{meta['zk.retryType']}" />
		<property name="maxElapsedTimeMs" value="#{meta['zk.maxElapsedTimeMs']}" />
		<property name="sleepMsBetweenRetries" value="#{meta['zk.sleepMsBetweenRetries']}" />
	</bean>
	
	<bean id="demoWatcherInvoke" class="com.baozun.nebula.curator.watcher.DemoWatcherInvoke" />
	<bean id="defaultNodeDataChangedWatcher" class="com.baozun.nebula.curator.watcher.DefaultNodeDataChangedWatcher">
		<property name="listenerPath" value="/test1" />
		<property name="watcherInvoke" ref="demoWatcherInvoke" />
	</bean>
	<bean id="defaultOnceNodeDataChangedWatcher" class="com.baozun.nebula.curator.watcher.DefaultOnceNodeDataChangedWatcher">
		<property name="listenerPath" value="/test1" />
		<property name="watcherInvoke" ref="demoWatcherInvoke" />
	</bean>
	
</beans>